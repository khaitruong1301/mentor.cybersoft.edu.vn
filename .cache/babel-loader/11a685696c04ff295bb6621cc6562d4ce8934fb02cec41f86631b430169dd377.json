{"ast":null,"code":"import React from'react';import{Table,Tag,Rate,Tooltip}from'antd';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ChiTietDanhGia=function ChiTietDanhGia(props){var danhGiaTheoMentor=props.danhGiaTheoMentor,danhMucDanhGia=props.danhMucDanhGia;var danhSachLop=useSelector(function(state){return state.lopHocReducer.danhSachLop;});var dsNguoiDung=useSelector(function(state){return state.userReducer.dsNguoiDung;});var desc=['terrible','bad','normal','good','wonderful'];var columns=[{title:'Người đánh giá',key:'nguoidanhgia',render:function render(_,record){var nguoiDung=dsNguoiDung.find(function(n){return n.id==record.maNguoiDanhGia;});var lopHoc=danhSachLop.find(function(n){return n.id==record.maLop;});var noiDung=record.noiDung?JSON.parse(record.noiDung):[];if(nguoiDung)return/*#__PURE__*/_jsxs(\"span\",{children:[nguoiDung.hoTen,\" \",nguoiDung.maNhomQuyen==\"GIANGVIEN\"&&/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:\"Gi\\u1EA3ng vi\\xEAn\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Tag,{color:\"pink\",children:lopHoc.tenLopHoc})}),/*#__PURE__*/_jsxs(\"b\",{children:[\" \\u0110i\\u1EC3m t\\u1ED1t:\",noiDung.filter(function(n){return n>=3;}).length]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"b\",{children:[\" \\u0110i\\u1EC3m x\\u1EA5u:\",noiDung.filter(function(n){return n>0&&n<3;}).length]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"b\",{children:[\" Ch\\u01B0a c\\xF3:\",noiDung.filter(function(n){return n==0;}).length]}),/*#__PURE__*/_jsx(\"br\",{}),noiDung[0]&&noiDung[0]!=0&&noiDung[0]!=\"\"?/*#__PURE__*/_jsx(Tooltip,{title:noiDung[0],trigger:\"click\",color:\"green\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm\",children:\"Nh\\u1EADn x\\xE9t\"})}):\"\"]});}},{title:'Thông tin',key:'thongtin',render:function render(_,record){var noiDung=record.noiDung?JSON.parse(record.noiDung):[];var index=0;return/*#__PURE__*/_jsx(\"table\",{children:danhMucDanhGia.map(function(item){index++;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Rate,{tooltips:desc,value:noiDung[index]}),noiDung[index]?/*#__PURE__*/_jsx(\"span\",{className:\"ant-rate-text\",children:desc[noiDung[index]-1]}):'']})]});})});}}];return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:danhGiaTheoMentor.sort(function(a,b){return b.maLop-a.maLop;})})});};","map":{"version":3,"names":["React","Table","Tag","Rate","Tooltip","useSelector","ChiTietDanhGia","props","danhGiaTheoMentor","danhMucDanhGia","danhSachLop","state","lopHocReducer","dsNguoiDung","userReducer","desc","columns","title","key","render","_","record","nguoiDung","find","n","id","maNguoiDanhGia","lopHoc","maLop","noiDung","JSON","parse","hoTen","maNhomQuyen","tenLopHoc","filter","length","index","map","item","sort","a","b"],"sources":["D:/BIG-PROJECT/WIKI/FE/crmmentor/src/components/cardmentor/ChiTietDanhGia.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Table, Tag, Rate, Tooltip } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const ChiTietDanhGia = (props) => {\r\n\r\n    const { danhGiaTheoMentor, danhMucDanhGia } = props;\r\n\r\n    const danhSachLop = useSelector(state => state.lopHocReducer.danhSachLop);\r\n    const dsNguoiDung = useSelector(state => state.userReducer.dsNguoiDung);\r\n\r\n    const desc = ['terrible', 'bad', 'normal', 'good', 'wonderful'];\r\n    const columns = [\r\n\r\n        {\r\n            title: 'Người đánh giá',\r\n            key: 'nguoidanhgia',\r\n            render: (_, record) => {\r\n                let nguoiDung = dsNguoiDung.find(n => n.id == record.maNguoiDanhGia);\r\n                let lopHoc = danhSachLop.find(n => n.id == record.maLop);\r\n                let noiDung = record.noiDung ? JSON.parse(record.noiDung) : [];\r\n\r\n                if (nguoiDung)\r\n                    return <span>\r\n                        {nguoiDung.hoTen} {nguoiDung.maNhomQuyen == \"GIANGVIEN\" && <Tag color='blue'>Giảng viên</Tag>}\r\n                        <p >\r\n                            <Tag color='pink'>{lopHoc.tenLopHoc}</Tag>\r\n                        </p>\r\n                        <b> Điểm tốt:{noiDung.filter(n => n >= 3).length}</b>\r\n                        <br />\r\n                        <b> Điểm xấu:{noiDung.filter(n => n > 0 && n < 3).length}</b>\r\n                        <br />\r\n                        <b> Chưa có:{noiDung.filter(n => n == 0).length}</b>\r\n                        <br />\r\n                        {noiDung[0] && noiDung[0] != 0 && noiDung[0] != \"\" ?\r\n                            <Tooltip title={noiDung[0]}  trigger=\"click\" color='green'>\r\n                                <button className='btn btn-primary btn-sm'>Nhận xét</button>\r\n                            </Tooltip>\r\n                            : \"\"\r\n                        }\r\n                    </span>\r\n            },\r\n        },\r\n\r\n        {\r\n            title: 'Thông tin',\r\n            key: 'thongtin',\r\n            render: (_, record) => {\r\n                let noiDung = record.noiDung ? JSON.parse(record.noiDung) : [];\r\n                let index = 0;\r\n\r\n                return <table>\r\n                    {danhMucDanhGia.map(item => {\r\n                        index++;\r\n                        return <tr>\r\n                            <td>{item}</td>\r\n                            <td><Rate tooltips={desc} value={noiDung[index]} />\r\n                                {noiDung[index] ? <span className=\"ant-rate-text\">{desc[noiDung[index] - 1]}</span> : ''}\r\n                            </td>\r\n                        </tr>\r\n                    })\r\n                    }\r\n                </table>\r\n\r\n            },\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <Table columns={columns} dataSource={danhGiaTheoMentor.sort((a, b) => b.maLop - a.maLop)} />\r\n\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}